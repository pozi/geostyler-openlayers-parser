var GeoStylerOpenlayersParser=function(D){"use strict";var Ir=Object.defineProperty;var _r=(D,b,T)=>b in D?Ir(D,b,{enumerable:!0,configurable:!0,writable:!0,value:T}):D[b]=T;var x=(D,b,T)=>(_r(D,typeof b!="symbol"?b+"":b,T),T);var b=(r,e)=>{const t=r[e];return t?typeof t=="function"?t():Promise.resolve(t):new Promise((i,n)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))})};function T(r){return!/^(-?\d|--)/.test(r)}function Ae(r){const e=[];let t="",i="",n=7;for(let s,a=0;s=r.charAt(a);a++)if(/[a-zA-Z\d\xa0-\uffff_-]/.test(s)&&n===7)t+=s;else if(s==="\\"&&n===7)n=6;else if(s===" "&&n===7){if(t!==""){if(!T(t))return null;e.push(t),t=""}}else if(n===6)/[0-9a-f]/i.test(s)?(i+=s,n=8):(t+=s,n=7);else{if(n!==8)return null;/[0-9a-f]/i.test(s)&&i.length<6?i+=s:(t+=String.fromCodePoint(parseInt(i,16)),t+=s,i="",n=7)}if(t!==""){if(!T(t))return null;e.push(t)}return e.join(" ")}function mt(r,e){let t=e,i="";const n={"font-family":[]};for(let s,a=0;s=r.charAt(a);a+=1)if(t!==4||s!=='"'&&s!=="'")if(t===3&&s===",")t=4,i="";else if(t===4&&s===","){const o=Ae(i);o&&n["font-family"].push(o),i=""}else if(t===5&&s===" ")/^(?:\+|-)?(?:[0-9]*\.)?[0-9]+(?:deg|grad|rad|turn)$/.test(i)?(n["font-style"]+=" "+i,i=""):a-=1,t=1;else if(t!==1||s!==" "&&s!=="/")t===2&&s===" "?(/^(?:\+|-)?([0-9]*\.)?[0-9]+(?:em|ex|ch|rem|vh|vw|vmin|vmax|px|mm|cm|in|pt|pc|%)?$/.test(i)&&(n["line-height"]=i),t=4,i=""):i+=s;else{if(/^(?:(?:xx|x)-large|(?:xx|s)-small|small|large|medium)$/.test(i)||/^(?:larg|small)er$/.test(i)||/^(?:\+|-)?(?:[0-9]*\.)?[0-9]+(?:em|ex|ch|rem|vh|vw|vmin|vmax|px|mm|cm|in|pt|pc|%)$/.test(i))t=s==="/"?2:4,n["font-size"]=i;else if(/^italic$/.test(i))n["font-style"]=i;else if(/^oblique$/.test(i))n["font-style"]=i,t=5;else if(/^small-caps$/.test(i))n["font-variant"]=i;else if(/^(?:bold(?:er)?|lighter|normal)$/.test(i))n["font-weight"]=i;else if(/^[+-]?(?:[0-9]*\.)?[0-9]+(?:e[+-]?(?:0|[1-9][0-9]*))?$/.test(i)){const o=parseFloat(i);o>=1&&o<=1e3&&(n["font-weight"]=i)}else/^(?:(?:ultra|extra|semi)-)?(?:condensed|expanded)$/.test(i)&&(n["font-stretch"]=i);i=""}else{let o=a+1;do if(o=r.indexOf(s,o)+1,!o)return null;while(r.charAt(o-2)==="\\");n["font-family"].push(r.slice(a+1,o-1).replace(/\\('|")/g,"$1")),a=o-1,t=3,i=""}if(t===3&&!/^\s*$/.test(i))return null;if(t===4){const s=Ae(i);s&&n["font-family"].push(s)}return n}function It(r){const e=mt(r,1);return e!==null&&e["font-size"]&&e["font-family"].length?e:null}function _t(r){return r!=null&&typeof r.valueOf()=="string"}const Mt=r=>(r==null?void 0:r.kind)==="Icon",wt=r=>(r==null?void 0:r.kind)==="Mark"&&_t(r==null?void 0:r.wellKnownName),ie=r=>["abs","acos","add","asin","atan","atan2","ceil","cos","div","exp","floor","interpolate","log","max","min","modulo","mul","pi","pow","random","rint","round","sin","sqrt","strIndexOf","strLastIndexOf","strLength","sub","tan","toDegrees","toNumber","toRadians"].includes(r==null?void 0:r.name),F=r=>["numberFormat","strAbbreviate","strCapitalize","strConcat","strDefaultIfBlank","strReplace","strStripAccents","strSubstring","strSubstringStart","strToLowerCase","strToString","strToUpperCase","strTrim"].includes(r==null?void 0:r.name),B=r=>["all","any","between","double2bool","equalTo","greaterThan","greaterThanOrEqualTo","in","lessThan","lessThanOrEqualTo","not","notEqualTo","parseBoolean","strEndsWith","strEqualsIgnoreCase","strMatches","strStartsWith"].includes(r==null?void 0:r.name),De=r=>["case","property","step"].includes(r==null?void 0:r.name),y=r=>B(r)||ie(r)||F(r)||De(r),ne=r=>typeof(r==null?void 0:r.source)=="string"||y(r==null?void 0:r.source)&&Array.isArray(r.position)&&Array.isArray(r.size);var p={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class Ct{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}var be=Ct,yt={PROPERTYCHANGE:"propertychange"};class vt{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}var pt=vt;function Oe(r,e){const t=r.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(r[i]!==e[i])return!1;return!0}function Te(){}function St(r){let e=!1,t,i,n;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==n||!Oe(s,i))&&(e=!0,n=this,i=s,t=r.apply(this,arguments)),t}}function Pe(r){for(const e in r)delete r[e]}function xt(r){let e;for(e in r)return!1;return!e}class At extends pt{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),n=i[e]||(i[e]=[]);n.includes(t)||n.push(t)}dispatchEvent(e){const t=typeof e=="string",i=t?e:e.type,n=this.listeners_&&this.listeners_[i];if(!n)return;const s=t?new be(e):e;s.target||(s.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,o[i]=0),++a[i];let l;for(let c=0,u=n.length;c<u;++c)if("handleEvent"in n[c]?l=n[c].handleEvent(s):l=n[c].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--a[i]===0){let c=o[i];for(delete o[i];c--;)this.removeEventListener(i,Te);delete a[i]}return l}disposeInternal(){this.listeners_&&Pe(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const n=i.indexOf(t);n!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[n]=Te,++this.pendingRemovals_[e]):(i.splice(n,1),i.length===0&&delete this.listeners_[e]))}}var ke=At,X={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function re(r,e,t,i,n){if(i&&i!==r&&(t=t.bind(i)),n){const a=t;t=function(){r.removeEventListener(e,t),a.apply(this,arguments)}}const s={target:r,type:e,listener:t};return r.addEventListener(e,t),s}function Le(r,e,t,i){return re(r,e,t,i,!0)}function ze(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),Pe(r))}class Q extends ke{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(X.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,n=new Array(i);for(let s=0;s<i;++s)n[s]=re(this,e[s],t);return n}return re(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const n=e.length;i=new Array(n);for(let s=0;s<n;++s)i[s]=Le(this,e[s],t)}else i=Le(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)Dt(i);else if(Array.isArray(e))for(let n=0,s=e.length;n<s;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)}}Q.prototype.on,Q.prototype.once,Q.prototype.un;function Dt(r){if(Array.isArray(r))for(let e=0,t=r.length;e<t;++e)ze(r[e]);else ze(r)}var bt=Q;function C(){throw new Error("Unimplemented abstract method.")}let Ot=0;function Ze(r){return r.ol_uid||(r.ol_uid=String(++Ot))}class Re extends be{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class Tt extends bt{constructor(e){super(),this.on,this.once,this.un,Ze(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new Re(i,e,t)),i=yt.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Re(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const n=this.values_||(this.values_={});if(i)n[e]=t;else{const s=n[e];n[e]=t,s!==t&&this.notify(e,s)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],xt(this.values_)&&(this.values_=null),t||this.notify(e,i)}}}var Ee=Tt;const P=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"";P.includes("firefox"),P.includes("safari")&&!P.includes("chrom")&&(P.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(P)),P.includes("webkit")&&P.includes("edge"),P.includes("macintosh");const Pt=typeof devicePixelRatio<"u"?devicePixelRatio:1,kt=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Lt=typeof Image<"u"&&Image.prototype.decode;(function(){let r=!1;try{const e=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return r})();function se(r,e){if(!r)throw new Error(e)}const zt=new Array(6);function ae(){return[1,0,0,1,0,0]}function Zt(r,e){const t=r[0],i=r[1],n=r[2],s=r[3],a=r[4],o=r[5],l=e[0],c=e[1],u=e[2],g=e[3],h=e[4],f=e[5];return r[0]=t*l+n*c,r[1]=i*l+s*c,r[2]=t*u+n*g,r[3]=i*u+s*g,r[4]=t*h+n*f+a,r[5]=i*h+s*f+o,r}function Rt(r,e,t,i,n,s,a){return r[0]=e,r[1]=t,r[2]=i,r[3]=n,r[4]=s,r[5]=a,r}function Et(r,e,t){return Zt(r,Rt(zt,e,0,0,t,0,0))}function Fe(r,e,t,i,n,s,a,o){const l=Math.sin(s),c=Math.cos(s);return r[0]=i*c,r[1]=n*l,r[2]=-i*l,r[3]=n*c,r[4]=a*i*c-o*i*l+e,r[5]=a*n*l+o*n*c+t,r}function Ft(r,e,t){return r[0]<=e&&e<=r[2]&&r[1]<=t&&t<=r[3]}function Ht(){return[1/0,1/0,-1/0,-1/0]}function He(r,e,t,i,n){return n?(n[0]=r,n[1]=e,n[2]=t,n[3]=i,n):[r,e,t,i]}function je(r){return He(1/0,1/0,-1/0,-1/0,r)}function jt(r,e){const t=r[0],i=r[1];return He(t,i,t,i,e)}function Nt(r,e,t,i,n){const s=je(n);return Gt(s,r,e,t,i)}function Gt(r,e,t,i,n){for(;t<i;t+=n)Wt(r,e[t],e[t+1]);return r}function Wt(r,e,t){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}function Bt(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function Ne(r){return r[3]-r[1]}function H(r,e){return r[0]<=e[2]&&r[2]>=e[0]&&r[1]<=e[3]&&r[3]>=e[1]}function Xt(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r}const Ge={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Qt{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Ge[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}var We=Qt;const j=6378137,z=Math.PI*j,Jt=[-z,-z,z,z],Yt=[-180,-85,180,85],J=j*Math.log(Math.tan(Math.PI/2));class Z extends We{constructor(e){super({code:e,units:"m",extent:Jt,global:!0,worldExtent:Yt,getPointResolution:function(t,i){return t/Math.cosh(i[1]/j)}})}}const Be=[new Z("EPSG:3857"),new Z("EPSG:102100"),new Z("EPSG:102113"),new Z("EPSG:900913"),new Z("http://www.opengis.net/def/crs/EPSG/0/3857"),new Z("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Ut(r,e,t){const i=r.length;t=t>1?t:2,e===void 0&&(t>2?e=r.slice():e=new Array(i));for(let n=0;n<i;n+=t){e[n]=z*r[n]/180;let s=j*Math.log(Math.tan(Math.PI*(+r[n+1]+90)/360));s>J?s=J:s<-J&&(s=-J),e[n+1]=s}return e}function qt(r,e,t){const i=r.length;t=t>1?t:2,e===void 0&&(t>2?e=r.slice():e=new Array(i));for(let n=0;n<i;n+=t)e[n]=180*r[n]/z,e[n+1]=360*Math.atan(Math.exp(r[n+1]/j))/Math.PI-90;return e}const Vt=6378137,Xe=[-180,-90,180,90],$t=Math.PI*Vt/180;class L extends We{constructor(e,t){super({code:e,units:"degrees",extent:Xe,axisOrientation:t,global:!0,metersPerUnit:$t,worldExtent:Xe})}}const Qe=[new L("CRS:84"),new L("EPSG:4326","neu"),new L("urn:ogc:def:crs:OGC:1.3:CRS84"),new L("urn:ogc:def:crs:OGC:2:84"),new L("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new L("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new L("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let oe={};function Kt(r){return oe[r]||oe[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function ei(r,e){oe[r]=e}let R={};function Y(r,e,t){const i=r.getCode(),n=e.getCode();i in R||(R[i]={}),R[i][n]=t}function ti(r,e){let t;return r in R&&e in R[r]&&(t=R[r][e]),t}function U(r,e,t){return Math.min(Math.max(r,e),t)}function ii(r,e,t,i){const n=t-r,s=i-e;return n*n+s*s}function ni(r,e){const t=Math.pow(10,e);return Math.round(r*t)/t}function Je(r,e){if(e!==void 0){for(let t=0,i=r.length;t<i;++t)e[t]=r[t];e=e}else e=r.slice();return e}function ri(r,e){if(e!==void 0&&r!==e){for(let t=0,i=r.length;t<i;++t)e[t]=r[t];r=e}return r}function si(r){ei(r.getCode(),r),Y(r,r,Je)}function ai(r){r.forEach(si)}function le(r){return typeof r=="string"?Kt(r):r||null}function Ye(r){ai(r),r.forEach(function(e){r.forEach(function(t){e!==t&&Y(e,t,Je)})})}function oi(r,e,t,i){r.forEach(function(n){e.forEach(function(s){Y(n,s,t),Y(s,n,i)})})}function li(r,e){const t=r.getCode(),i=e.getCode();let n=ti(t,i);return n||(n=ri),n}function Ue(r,e){const t=le(r),i=le(e);return li(t,i)}function ci(){Ye(Be),Ye(Qe),oi(Qe,Be,Ut,qt)}ci();function N(r,e,t,i,n,s){s=s||[];let a=0;for(let o=e;o<t;o+=i){const l=r[o],c=r[o+1];s[a++]=n[0]*l+n[2]*c+n[4],s[a++]=n[1]*l+n[3]*c+n[5]}return s&&s.length!=a&&(s.length=a),s}function hi(r,e,t,i,n,s,a){a=a||[];const o=Math.cos(n),l=Math.sin(n),c=s[0],u=s[1];let g=0;for(let h=e;h<t;h+=i){const f=r[h]-c,I=r[h+1]-u;a[g++]=c+f*o-I*l,a[g++]=u+f*l+I*o;for(let m=h+2;m<h+i;++m)a[g++]=r[m]}return a&&a.length!=g&&(a.length=g),a}function gi(r,e,t,i,n,s,a,o){o=o||[];const l=a[0],c=a[1];let u=0;for(let g=e;g<t;g+=i){const h=r[g]-l,f=r[g+1]-c;o[u++]=l+n*h,o[u++]=c+s*f;for(let I=g+2;I<g+i;++I)o[u++]=r[I]}return o&&o.length!=u&&(o.length=u),o}function ui(r,e,t,i,n,s,a){a=a||[];let o=0;for(let l=e;l<t;l+=i){a[o++]=r[l]+n,a[o++]=r[l+1]+s;for(let c=l+2;c<l+i;++c)a[o++]=r[c]}return a&&a.length!=o&&(a.length=o),a}const qe=ae();class di extends Ee{constructor(){super(),this.extent_=Ht(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=St((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);const n=this.clone();return n.applyTransform(i),n.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return C()}closestPointXY(e,t,i,n){return C()}containsXY(e,t){const i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return C()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&je(t),this.extentRevision_=this.getRevision()}return Xt(this.extent_,e)}rotate(e,t){C()}scale(e,t,i){C()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return C()}getType(){return C()}applyTransform(e){C()}intersectsExtent(e){return C()}translate(e,t){C()}transform(e,t){const i=le(e),n=i.getUnits()=="tile-pixels"?function(s,a,o){const l=i.getExtent(),c=i.getWorldExtent(),u=Ne(c)/Ne(l);return Fe(qe,c[0],c[3],u,-u,0,0,0),N(s,0,s.length,o,qe,a),Ue(i,t)(s,a,o)}:Ue(i,t);return this.applyTransform(n),this}}var fi=di;class mi extends fi{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Nt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return C()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=Ve(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){C()}setLayout(e,t,i){let n;if(e)n=Ve(e);else{for(let s=0;s<i;++s){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}n=t.length,e=Ii(n)}this.layout=e,this.stride=n}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const n=this.getStride();hi(i,0,i.length,n,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=Bt(this.getExtent()));const n=this.getFlatCoordinates();if(n){const s=this.getStride();gi(n,0,n.length,s,e,t,i,n),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const n=this.getStride();ui(i,0,i.length,n,e,t,i),this.changed()}}}function Ii(r){let e;return r==2?e="XY":r==3?e="XYZ":r==4&&(e="XYZM"),e}function Ve(r){let e;return r=="XY"?e=2:r=="XYZ"||r=="XYM"?e=3:r=="XYZM"&&(e=4),e}function _i(r,e,t){const i=r.getFlatCoordinates();if(!i)return null;const n=r.getStride();return N(i,0,i.length,n,e,t)}var Mi=mi;function wi(r,e,t,i){for(let n=0,s=t.length;n<s;++n)r[e++]=t[n];return e}class ce extends Mi{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new ce(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){const s=this.flatCoordinates,a=ii(e,t,s[0],s[1]);if(a<n){const o=this.stride;for(let l=0;l<o;++l)i[l]=s[l];return i.length=o,a}return n}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return jt(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Ft(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=wi(this.flatCoordinates,0,e,this.stride),this.changed()}}var Ci=ce;function q(r,e){return Array.isArray(r)?r:(e===void 0?e=[r,r]:(e[0]=r,e[1]=r),e)}class he{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=q(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new he({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return C()}getImage(e){return C()}getHitDetectionImage(){return C()}getPixelRatio(e){return 1}getImageState(){return C()}getImageSize(){return C()}getOrigin(){return C()}getSize(){return C()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=q(e)}listenImageChange(e){C()}load(){C()}unlistenImageChange(e){C()}}var ge=he,V={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},S={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};S.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}},S.max=S.whitepoint[2].D65,S.rgb=function(r,e){e=e||S.whitepoint[2].E;var t=r[0]/e[0],i=r[1]/e[1],n=r[2]/e[2],s,a,o;return s=t*3.240969941904521+i*-1.537383177570093+n*-.498610760293,a=t*-.96924363628087+i*1.87596750150772+n*.041555057407175,o=t*.055630079696993+i*-.20397695888897+n*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,.4166666666666667)-.055:s=s*12.92,a=a>.0031308?1.055*Math.pow(a,.4166666666666667)-.055:a=a*12.92,o=o>.0031308?1.055*Math.pow(o,.4166666666666667)-.055:o=o*12.92,s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[s*255,a*255,o*255]},V.xyz=function(r,e){var t=r[0]/255,i=r[1]/255,n=r[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var s=t*.41239079926595+i*.35758433938387+n*.18048078840183,a=t*.21263900587151+i*.71516867876775+n*.072192315360733,o=t*.019330818715591+i*.11919477979462+n*.95053215224966;return e=e||S.whitepoint[2].E,[s*e[0],a*e[1],o*e[2]]};var $e={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(r,e,t){var i,n,s,a,o,l,c,u,g,h,f,I,m;if(s=r[0],a=r[1],o=r[2],s===0)return[0,0,0];var _=.0011070564598794539;return e=e||"D65",t=t||2,g=S.whitepoint[t][e][0],h=S.whitepoint[t][e][1],f=S.whitepoint[t][e][2],I=4*g/(g+15*h+3*f),m=9*h/(g+15*h+3*f),i=a/(13*s)+I||0,n=o/(13*s)+m||0,c=s>8?h*Math.pow((s+16)/116,3):h*s*_,l=c*9*i/(4*n)||0,u=c*(12-3*i-20*n)/(4*n)||0,[l,c,u]}};S.luv=function(r,e,t){var i,n,s,a,o,l,c,u,g,h,f,I,m,_=.008856451679035631,M=903.2962962962961;e=e||"D65",t=t||2,g=S.whitepoint[t][e][0],h=S.whitepoint[t][e][1],f=S.whitepoint[t][e][2],I=4*g/(g+15*h+3*f),m=9*h/(g+15*h+3*f),l=r[0],c=r[1],u=r[2],i=4*l/(l+15*c+3*u)||0,n=9*c/(l+15*c+3*u)||0;var w=c/h;return s=w<=_?M*w:116*Math.pow(w,.3333333333333333)-16,a=13*s*(i-I),o=13*s*(n-m),[s,a,o]},$e.lchuv=function(r){var e=r[0],t=r[1],i=r[2],n=Math.sqrt(t*t+i*i),s=Math.atan2(i,t),a=s*360/2/Math.PI;return a<0&&(a+=360),[e,n,a]},S.lchuv=function(r){return $e.lchuv(S.luv(r))};var Ke={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},et={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function yi(r){var u,g;var e,t=[],i=1,n;if(typeof r=="number")return{space:"rgb",values:[r>>>16,(r&65280)>>>8,r&255],alpha:1};if(typeof r=="number")return{space:"rgb",values:[r>>>16,(r&65280)>>>8,r&255],alpha:1};if(r=String(r).toLowerCase(),Ke[r])t=Ke[r].slice(),n="rgb";else if(r==="transparent")i=0,n="rgb",t=[0,0,0];else if(r[0]==="#"){var s=r.slice(1),a=s.length,o=a<=4;i=1,o?(t=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],a===4&&(i=parseInt(s[3]+s[3],16)/255)):(t=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],a===8&&(i=parseInt(s[6]+s[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),n="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(r)){var l=e[1];n=l.replace(/a$/,"");var c=n==="cmyk"?4:n==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),n==="color"&&(n=t.shift()),t=t.map(function(h,f){if(h[h.length-1]==="%")return h=parseFloat(h)/100,f===3?h:n==="rgb"?h*255:n[0]==="h"||n[0]==="l"&&!f?h*100:n==="lab"?h*125:n==="lch"?f<2?h*150:h*360:n[0]==="o"&&!f?h:n==="oklab"?h*.4:n==="oklch"?f<2?h*.4:h*360:h;if(n[f]==="h"||f===2&&n[n.length-1]==="h"){if(et[h]!==void 0)return et[h];if(h.endsWith("deg"))return parseFloat(h);if(h.endsWith("turn"))return parseFloat(h)*360;if(h.endsWith("grad"))return parseFloat(h)*360/400;if(h.endsWith("rad"))return parseFloat(h)*180/Math.PI}return h==="none"?0:parseFloat(h)}),i=t.length>c?t.pop():1}else/[0-9](?:\s|\/|,)/.test(r)&&(t=r.match(/([0-9]+)/g).map(function(h){return parseFloat(h)}),n=((g=(u=r.match(/([a-z])/ig))==null?void 0:u.join(""))==null?void 0:g.toLowerCase())||"rgb");return{space:n,values:t,alpha:i}}var ue={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(r){var e=r[0]/360,t=r[1]/100,i=r[2]/100,n,s,a,o,l,c=0;if(t===0)return l=i*255,[l,l,l];for(s=i<.5?i*(1+t):i+t-i*t,n=2*i-s,o=[0,0,0];c<3;)a=e+1/3*-(c-1),a<0?a++:a>1&&a--,l=6*a<1?n+(s-n)*6*a:2*a<1?s:3*a<2?n+(s-n)*(2/3-a)*6:n,o[c++]=l*255;return o}};V.hsl=function(r){var e=r[0]/255,t=r[1]/255,i=r[2]/255,n=Math.min(e,t,i),s=Math.max(e,t,i),a=s-n,o,l,c;return s===n?o=0:e===s?o=(t-i)/a:t===s?o=2+(i-e)/a:i===s&&(o=4+(e-t)/a),o=Math.min(o*60,360),o<0&&(o+=360),c=(n+s)/2,s===n?l=0:c<=.5?l=a/(s+n):l=a/(2-s-n),[o,l*100,c*100]};function vi(r){Array.isArray(r)&&r.raw&&(r=String.raw(...arguments)),r instanceof Number&&(r=+r);var e,t=yi(r);if(!t.space)return[];const i=t.space[0]==="h"?ue.min:V.min,n=t.space[0]==="h"?ue.max:V.max;return e=Array(3),e[0]=Math.min(Math.max(t.values[0],i[0]),n[0]),e[1]=Math.min(Math.max(t.values[1],i[1]),n[1]),e[2]=Math.min(Math.max(t.values[2],i[2]),n[2]),t.space[0]==="h"&&(e=ue.rgb(e)),e.push(Math.min(Math.max(t.alpha,0),1)),e}function tt(r){return typeof r=="string"?r:nt(r)}const pi=1024,G={};let de=0;function Si(r){if(G.hasOwnProperty(r))return G[r];if(de>=pi){let t=0;for(const i in G)t++&3||(delete G[i],--de)}const e=vi(r);if(e.length!==4)throw new Error('Failed to parse "'+r+'" as color');for(const t of e)if(isNaN(t))throw new Error('Failed to parse "'+r+'" as color');return xi(e),G[r]=e,++de,e}function it(r){return Array.isArray(r)?r:Si(r)}function xi(r){return r[0]=U(r[0]+.5|0,0,255),r[1]=U(r[1]+.5|0,0,255),r[2]=U(r[2]+.5|0,0,255),r[3]=U(r[3],0,1),r}function nt(r){let e=r[0];e!=(e|0)&&(e=e+.5|0);let t=r[1];t!=(t|0)&&(t=t+.5|0);let i=r[2];i!=(i|0)&&(i=i+.5|0);const n=r[3]===void 0?1:Math.round(r[3]*100)/100;return"rgba("+e+","+t+","+i+","+n+")"}function E(r){return Array.isArray(r)?nt(r):r}function $(r,e,t,i){let n;return t&&t.length?n=t.shift():kt?n=new OffscreenCanvas(r||300,e||300):n=document.createElement("canvas"),r&&(n.width=r),e&&(n.height=e),n.getContext("2d",i)}const Ai="10px sans-serif",K="#000",ee="round",rt=[],st=0,te="round",fe=10,me="#000",at="center",Di="middle",Ie=1;new Ee;class _e extends ge{constructor(e){const t=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:1,rotateWithView:t,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius!==void 0?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.render()}clone(){const e=this.getScale(),t=new _e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let t=this.canvases_[e];if(!t){const i=this.renderOptions_,n=$(i.size*e,i.size*e);this.draw_(i,n,e),t=n.canvas,this.canvases_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return p.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let n=this.radius_,s=this.radius2_===void 0?n:this.radius2_;if(n<s){const O=n;n=s,s=O}const a=this.radius2_===void 0?this.points_:this.points_*2,o=2*Math.PI/a,l=s*Math.sin(o),c=Math.sqrt(s*s-l*l),u=n-c,g=Math.sqrt(l*l+u*u),h=g/l;if(e==="miter"&&h<=i)return h*t;const f=t/2/h,I=t/2*(u/g),_=Math.sqrt((n+f)*(n+f)+I*I)-n;if(this.radius2_===void 0||e==="bevel")return _*2;const M=n*Math.sin(o),w=Math.sqrt(n*n-M*M),v=s-w,k=Math.sqrt(M*M+v*v)/M;if(k<=i){const O=k*t/2-s-n;return 2*Math.max(_,O)}return _*2}createRenderOptions(){let e=ee,t=te,i=0,n=null,s=0,a,o=0;this.stroke_&&(a=E(this.stroke_.getColor()??me),o=this.stroke_.getWidth()??Ie,n=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??te,e=this.stroke_.getLineCap()??ee,i=this.stroke_.getMiterLimit()??fe);const l=this.calculateLineJoinSize_(t,o,i),c=Math.max(this.radius_,this.radius2_||0),u=Math.ceil(2*c+l);return{strokeStyle:a,strokeWidth:o,size:u,lineCap:e,lineDash:n,lineDashOffset:s,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let n=this.fill_.getColor();n===null&&(n=K),t.fillStyle=E(n),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),n=0;typeof i=="string"&&(i=it(i)),i===null?n=1:Array.isArray(i)&&(n=i.length===4?i[3]:1),n===0&&(t=$(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const i=this.radius_;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const n=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);const s=this.angle_-Math.PI/2,a=2*Math.PI/t;for(let o=0;o<t;o++){const l=s+o*a,c=o%2===0?i:n;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=K,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}var ot=_e;class Me extends ot{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new Me({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius_=e,this.render()}}var bi=Me;class we{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null}clone(){const e=this.getColor();return new we({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}var lt=we;class Ce{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Ce({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}var Oi=Ce;class ye{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=ct,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new ye({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=ct,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function ct(r){return r.getGeometry()}var Ti=ye;const Pi="#333";class ve{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=q(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new lt({color:Pi}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding}clone(){const e=this.getScale();return new ve({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=q(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}var ki=ve;function Li(r,e){return new Promise((t,i)=>{function n(){a(),t(r)}function s(){a(),i(new Error("Image load error"))}function a(){r.removeEventListener("load",n),r.removeEventListener("error",s)}r.addEventListener("load",n),r.addEventListener("error",s),e&&(r.src=e)})}function zi(r,e){return e&&(r.src=e),r.src&&Lt?new Promise((t,i)=>r.decode().then(()=>t(r)).catch(n=>r.complete&&r.width?t(r):i(n))):Li(r)}class Zi{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];!(e++&3)&&!i.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}}get(e,t,i){const n=ht(e,t,i);return n in this.cache_?this.cache_[n]:null}set(e,t,i,n){const s=ht(e,t,i);this.cache_[s]=n,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function ht(r,e,t){const i=t?tt(t):"null";return e+":"+r+":"+i}const gt=new Zi;let W=null;class Ri extends ke{constructor(e,t,i,n,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=s,this.imageState_=n===void 0?p.IDLE:n,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===p.LOADED){W||(W=$(1,1,void 0,{willReadFrequently:!0})),W.drawImage(this.image_,0,0);try{W.getImageData(0,0,1,1),this.tainted_=!1}catch{W=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(X.CHANGE)}handleImageError_(){this.imageState_=p.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=p.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=$(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===p.IDLE){this.image_||this.initializeImage_(),this.imageState_=p.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&zi(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==p.LOADED)return;const t=this.image_,i=document.createElement("canvas");i.width=Math.ceil(t.width*e),i.height=Math.ceil(t.height*e);const n=i.getContext("2d");n.scale(e,e),n.drawImage(t,0,0),n.globalCompositeOperation="multiply",n.fillStyle=tt(this.color_),n.fillRect(0,0,i.width/e,i.height/e),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),this.canvas_[e]=i}}function Ei(r,e,t,i,n){let s=e===void 0?void 0:gt.get(e,t,n);return s||(s=new Ri(r,r instanceof HTMLImageElement?r.src||void 0:e,t,i,n),gt.set(e,t,n,s)),s}function ut(r,e,t,i){return t!==void 0&&i!==void 0?[t/r,i/e]:t!==void 0?t/r:i!==void 0?i/e:1}class pe extends ge{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,n=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:n,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const a=e.img!==void 0?e.img:null;let o=e.src;se(!(o!==void 0&&a),"`image` and `src` cannot be provided at the same time"),(o===void 0||o.length===0)&&a&&(o=a.src||Ze(a)),se(o!==void 0&&o.length>0,"A defined and non-empty `src` or `image` must be provided"),se(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=p.IDLE:a!==void 0&&(a instanceof HTMLImageElement?a.complete?l=a.src?p.LOADED:p.IDLE:l=p.LOADING:l=p.LOADED),this.color_=e.color!==void 0?it(e.color):null,this.iconImage_=Ei(a,o,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,e.width!==void 0||e.height!==void 0){let c,u;if(e.size)[c,u]=e.size;else{const g=this.getImage(1);if(g.width&&g.height)c=g.width,u=g.height;else if(g instanceof HTMLImageElement){this.initialOptions_=e;const h=()=>{if(this.unlistenImageChange(h),!this.initialOptions_)return;const f=this.iconImage_.getSize();this.setScale(ut(f[0],f[1],e.width,e.height))};this.listenImageChange(h);return}}c!==void 0&&this.setScale(ut(c,u,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new pe({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const n=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!n)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=n[0]),this.anchorYUnits_=="fraction"&&(e[1]*=n[1])}if(this.anchorOrigin_!="top-left"){if(!n)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+n[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+n[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==p.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==p.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(X.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(X.CHANGE,e)}}var Fi=pe;const dt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Se=/^ttf:\/\/(.+)#(.+)$/,ft="geostyler-mark-symbolizer";class d{static getRgbaColor(e,t){if(F(e)&&(e=d.evaluateStringFunction(e)),typeof e!="string")return;if(e.startsWith("rgba("))return e;if(!/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e))return;const n=parseInt(e.slice(1,3),16),s=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16);return ie(t)&&(t=d.evaluateNumberFunction(t)),t<0&&(t=1),"rgba("+n+", "+s+", "+a+", "+t+")"}static splitRgbaColor(e){const t=e.substring(e.indexOf("(")+1,e.lastIndexOf(")")).split(/,\s*/),i=parseInt(t[0],10),n=parseInt(t[1],10),s=parseInt(t[2],10),a=parseFloat(t[3]);return[i,n,s,a]}static getHexColor(e){if(e.startsWith("#"))return e;if(e.startsWith("rgb")){const t=d.splitRgbaColor(e);return d.getHexCodeFromRgbArray(t)}else if(dt[e.toLocaleLowerCase()]!==void 0){const t=dt[e.toLocaleLowerCase()];return d.getHexCodeFromRgbArray(t)}else return}static getHexCodeFromRgbArray(e){return"#"+e.map((t,i)=>{const n=t.toString(16);return i<3?n.length===1?"0"+n:n:""}).join("")}static getOpacity(e){if(!e.startsWith("rgba("))return;const t=d.splitRgbaColor(e);if(t.length===4)return t[3]}static getTextFont(e){const t=e.fontWeight??"normal",i=e.fontStyle??"normal",n=e.size,s=e.font;return t+" "+i+" "+n+"px "+(s==null?void 0:s.join(", "))}static getIsFontGlyphBased(e){return Se.test(e.wellKnownName)}static getIsMarkSymbolizerFont(e){if(!e)return!1;const t=ft;return e.substring(e.length-t.length,e.length)===t}static getTextFontForMarkSymbolizer(e){const t=e.wellKnownName.match(Se);if(!t)throw new Error(`Could not parse font-based well known name: ${e.wellKnownName}`);const i=t[1];return`Normal ${e.radius||5}px '${i}', ${ft}`}static getCharacterForMarkSymbolizer(e){const t=e.wellKnownName.match(Se);if(!t)throw new Error(`Could not parse font-based well known name: ${e.wellKnownName}`);return String.fromCharCode(parseInt(t[2],16))}static getFontNameFromOlFont(e){const t=e.match(/(?:\d+\S+) '?"?([^,'"]+)/);if(!t)throw new Error(`Could not find font family name in the following string: ${e}`);return t[1]}static getSizeFromOlFont(e){const t=e.match(/(?:(\d+)px)/);return t?parseInt(t[1],10):0}static resolveAttributeTemplate(e,t,i="n.v.",n=(s,a)=>a){let s="\\{\\{",a="\\}\\}",o=new RegExp(s+"(.*?)"+a,"g"),l=t.match(o);return l&&l.forEach(c=>{let u=0;for(let[g,h]of Object.entries(e.getProperties()))if(c.slice(2,c.length-2).toLowerCase()===g.toLowerCase()){t=t.replace(c,n(g,h));break}else u++;u===Object.keys(e.getProperties()).length&&(t=t.replace(c,i))}),t}static evaluateFunction(e,t){if(e.name==="property"){if(!t)throw new Error(`Could not evalute 'property' function. Feature ${t} is not defined.`);return F(e.args[0])?t==null?void 0:t.get(d.evaluateStringFunction(e.args[0],t)):t==null?void 0:t.get(e.args[0])}if(De(e))return d.evaluateUnknownFunction(e,t);if(F(e))return d.evaluateStringFunction(e,t);if(ie(e))return d.evaluateNumberFunction(e,t);if(B(e))return d.evaluateBooleanFunction(e,t)}static evaluateBooleanFunction(e,t){const i=e.args.map(n=>y(n)?d.evaluateFunction(n,t):n);switch(e.name){case"all":return i.map(a=>this.evaluateBooleanFunction(a,t)).every(a=>a===!0);case"any":return i.map(a=>this.evaluateBooleanFunction(a,t)).some(a=>a===!0);case"between":return i[0]>=i[1]&&i[0]<=i[2];case"double2bool":return!1;case"equalTo":return i[0]===i[1];case"greaterThan":return i[0]>i[1];case"greaterThanOrEqualTo":return i[0]>=i[1];case"in":return i.slice(1).includes(i[0]);case"lessThan":return i[0]<i[1];case"lessThanOrEqualTo":return i[0]<=i[1];case"not":return!i[0];case"notEqualTo":return i[0]!==i[1];case"parseBoolean":return!!i[0];case"strEndsWith":return i[0].endsWith(i[1]);case"strEqualsIgnoreCase":return i[0].toLowerCase()===i[1].toLowerCase();case"strMatches":const s=i[1].match(/\/(.*?)\/([gimy]{0,4})$/);return s&&s.length===3?new RegExp(s[1],s[2]).test(i[0]):!1;case"strStartsWith":return i[0].startsWith(i[1]);default:return!1}}static evaluateNumberFunction(e,t){if(e.name==="pi")return Math.PI;if(e.name==="random")return Math.random();const i=e.args.map(n=>y(n)?d.evaluateFunction(n,t):n);switch(e.name){case"abs":return Math.abs(i[0]);case"acos":return Math.acos(i[0]);case"add":return i[0]+i[1];case"asin":return Math.asin(i[0]);case"atan":return Math.atan(i[0]);case"atan2":return i[0];case"ceil":return Math.ceil(i[0]);case"cos":return Math.cos(i[0]);case"div":return i[0]/i[1];case"exp":return Math.exp(i[0]);case"floor":return Math.floor(i[0]);case"log":return Math.log(i[0]);case"max":return Math.max(...i);case"min":return Math.min(...i);case"modulo":return i[0]%i[1];case"mul":return i[0]*i[1];case"pow":return Math.pow(i[0],i[1]);case"rint":return i[0];case"round":return Math.round(i[0]);case"sin":return Math.sin(i[0]);case"sqrt":return Math.sqrt(i[0]);case"strIndexOf":return i[0].indexOf(i[1]);case"strLastIndexOf":return i[0].lastIndexOf(i[1]);case"strLength":return i[0].length;case"sub":return i[0]-i[1];case"tan":return Math.tan(i[0]);case"toDegrees":return i[0]*(180/Math.PI);case"toRadians":return i[0]*(Math.PI/180);default:return i[0]}}static evaluateUnknownFunction(e,t){const i=e.args.map(n=>y(n)?d.evaluateFunction(n,t):n);switch(e.name){case"property":return t==null?void 0:t.get(i[0]);case"case":const n=i;let s;for(let a=0;a<n.length;a++){const o=n[a];if(a===n.length-1){s=o;break}else if(o.case===!0){s=o.value;break}else if(d.evaluateBooleanFunction(o.case,t)){s=o.value;break}}return s;default:return i[0]}}static evaluateStringFunction(e,t){var s;const i=e.args.map(a=>y(a)?d.evaluateFunction(a,t):a);switch(e.name){case"numberFormat":return i[0];case"strAbbreviate":return i[0];case"strCapitalize":var n=i[0].toLowerCase().split(" ");for(let a of n)a=a.charAt(0).toUpperCase()+a.substring(1);return n.join(" ");case"strConcat":return i.join();case"strDefaultIfBlank":return((s=i[0])==null?void 0:s.length)<1?i[1]:i[0];case"strReplace":return i[3]===!0?i[0].replaceAll(i[1],i[2]):i[0].replace(i[1],i[2]);case"strStripAccents":return i[0].normalize("NFKD").replace(/[\u0300-\u036f]/g,"");case"strSubstring":return i[0].substring(i[1],i[2]);case"strSubstringStart":return i[0].substring(i[1]);case"strToLowerCase":return i[0].toLowerCase();case"strToUpperCase":return i[0].toUpperCase();case"strTrim":return i[0].trim();default:return i[0]}}static containsGeoStylerFunctions(e){return e.rules.some(t=>{var a,o,l,c;const i=Array.isArray(t.filter)&&((a=t.filter)==null?void 0:a.some(y)),n=(o=t.symbolizers)==null?void 0:o.some(u=>Object.values(u).some(y)),s=y((l=t==null?void 0:t.scaleDenominator)==null?void 0:l.max)||y((c=t==null?void 0:t.scaleDenominator)==null?void 0:c.min);return i||n||s})}}class Hi{drawCustom(e,t,i,n){}drawGeometry(e){}setStyle(e){}drawCircle(e,t){}drawFeature(e,t){}drawGeometryCollection(e,t){}drawLineString(e,t){}drawMultiLineString(e,t){}drawMultiPoint(e,t){}drawMultiPolygon(e,t){}drawPoint(e,t){}drawPolygon(e,t){}drawText(e,t){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}var ji=Hi;class Ni extends ji{constructor(e,t,i,n,s,a,o){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=n,this.transformRotation_=n?ni(Math.atan2(n[1],n[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=a,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=ae()}drawImages_(e,t,i,n){if(!this.image_)return;const s=N(e,t,i,n,this.transform_,this.pixelCoordinates_),a=this.context_,o=this.tmpLocalTransform_,l=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,g=s.length;u<g;u+=2){const h=s[u]-this.imageAnchorX_,f=s[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const I=h+this.imageAnchorX_,m=f+this.imageAnchorY_;Fe(o,I,m,1,1,c,-I,-m),a.save(),a.transform.apply(a,o),a.translate(I,m),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.restore()}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,f,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=l)}drawText_(e,t,i,n){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=N(e,t,i,n,this.transform_,this.pixelCoordinates_),a=this.context_;let o=this.textRotation_;for(this.transformRotation_===0&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);t<i;t+=n){const l=s[t]+this.textOffsetX_,c=s[t+1]+this.textOffsetY_;o!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(a.save(),a.translate(l-this.textOffsetX_,c-this.textOffsetY_),a.rotate(o),a.translate(this.textOffsetX_,this.textOffsetY_),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.restore()):(this.textStrokeState_&&a.strokeText(this.text_,l,c),this.textFillState_&&a.fillText(this.text_,l,c))}}moveToLineTo_(e,t,i,n,s){const a=this.context_,o=N(e,t,i,n,this.transform_,this.pixelCoordinates_);a.moveTo(o[0],o[1]);let l=o.length;s&&(l-=2);for(let c=2;c<l;c+=2)a.lineTo(o[c],o[c+1]);return s&&a.closePath(),i}drawRings_(e,t,i,n){for(let s=0,a=i.length;s<a;++s)t=this.moveToLineTo_(e,t,i[s],n,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!H(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=_i(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],n=t[3]-t[1],s=Math.sqrt(i*i+n*n),a=this.context_;a.beginPath(),a.arc(t[0],t[1],s,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,n=t.length;i<n;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!H(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(H(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,n=e.getFlatCoordinates();let s=0;const a=e.getEnds(),o=e.getStride();i.beginPath();for(let l=0,c=a.length;l<c;++l)s=this.moveToLineTo_(n,s,a[l],o,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!H(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!H(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let n=0;const s=e.getEndss(),a=e.getStride();t.beginPath();for(let o=0,l=s.length;o<l;++o){const c=s[o];n=this.drawRings_(i,n,c,a)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),Oe(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,n=e.textAlign?e.textAlign:at;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=n&&(i.textAlign=n,t.textAlign=n),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=n,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:n,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:E(i||K)}}if(!t)this.strokeState_=null;else{const i=t.getColor(),n=t.getLineCap(),s=t.getLineDash(),a=t.getLineDashOffset(),o=t.getLineJoin(),l=t.getWidth(),c=t.getMiterLimit(),u=s||rt;this.strokeState_={lineCap:n!==void 0?n:ee,lineDash:this.pixelRatio_===1?u:u.map(g=>g*this.pixelRatio_),lineDashOffset:(a||st)*this.pixelRatio_,lineJoin:o!==void 0?o:te,lineWidth:(l!==void 0?l:Ie)*this.pixelRatio_,miterLimit:c!==void 0?c:fe,strokeStyle:E(i||me)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),n=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*i,this.imageAnchorY_=n[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const a=e.getScaleArray();this.imageScale_=[a[0]*this.pixelRatio_/i,a[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const f=t.getColor();this.textFillState_={fillStyle:E(f||K)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const f=i.getColor(),I=i.getLineCap(),m=i.getLineDash(),_=i.getLineDashOffset(),M=i.getLineJoin(),w=i.getWidth(),v=i.getMiterLimit();this.textStrokeState_={lineCap:I!==void 0?I:ee,lineDash:m||rt,lineDashOffset:_||st,lineJoin:M!==void 0?M:te,lineWidth:w!==void 0?w:Ie,miterLimit:v!==void 0?v:fe,strokeStyle:E(f||me)}}const n=e.getFont(),s=e.getOffsetX(),a=e.getOffsetY(),o=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),g=e.getTextAlign(),h=e.getTextBaseline();this.textState_={font:n!==void 0?n:Ai,textAlign:g!==void 0?g:at,textBaseline:h!==void 0?h:Di},this.text_=u!==void 0?Array.isArray(u)?u.reduce((f,I,m)=>f+=m%2?" ":I,""):u:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=a!==void 0?this.pixelRatio_*a:0,this.textRotateWithView_=o!==void 0?o:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}}var Gi=Ni;function Wi(r,e){const t=r.canvas;e=e||{};const i=e.pixelRatio||Pt,n=e.size;n&&(t.width=n[0]*i,t.height=n[1]*i,t.style.width=n[0]+"px",t.style.height=n[1]+"px");const s=[0,0,t.width,t.height],a=Et(ae(),i,i);return new Gi(r,i,s,a,0)}class xe{constructor(e){x(this,"unsupportedProperties",{Symbolizer:{MarkSymbolizer:{avoidEdges:"none",blur:"none",offsetAnchor:"none",pitchAlignment:"none",pitchScale:"none"},FillSymbolizer:{antialias:"none",opacity:{support:"none",info:"Use fillOpacity instead."}},IconSymbolizer:{allowOverlap:"none",anchor:"none",avoidEdges:"none",color:"none",haloBlur:"none",haloColor:"none",haloWidth:"none",keepUpright:"none",offsetAnchor:"none",size:{support:"partial",info:"Will set/get the width of the ol Icon."},optional:"none",padding:"none",pitchAlignment:"none",rotationAlignment:"none",textFit:"none",textFitPadding:"none"},LineSymbolizer:{blur:"none",gapWidth:"none",gradient:"none",miterLimit:"none",roundLimit:"none",spacing:"none",graphicFill:"none",graphicStroke:"none",perpendicularOffset:"none"},RasterSymbolizer:"none",TextSymbolizer:{anchor:"none",placement:{support:"partial",info:"point and line supported. line-center will be mapped to line."}}},Function:{double2bool:{support:"none",info:"Always returns false"},atan2:{support:"none",info:"Currently returns the first argument"},rint:{support:"none",info:"Currently returns the first argument"},numberFormat:{support:"none",info:"Currently returns the first argument"},strAbbreviate:{support:"none",info:"Currently returns the first argument"}}});x(this,"title","OpenLayers Style Parser");x(this,"olIconStyleCache",{});x(this,"OlStyleConstructor",Ti);x(this,"OlStyleImageConstructor",ge);x(this,"OlStyleFillConstructor",lt);x(this,"OlStyleStrokeConstructor",Oi);x(this,"OlStyleTextConstructor",ki);x(this,"OlStyleCircleConstructor",bi);x(this,"OlStyleIconConstructor",Fi);x(this,"OlStyleRegularshapeConstructor",ot);x(this,"isOlParserStyleFct",e=>typeof e=="function");e&&(this.OlStyleConstructor=e.style.Style,this.OlStyleImageConstructor=e.style.Image,this.OlStyleFillConstructor=e.style.Fill,this.OlStyleStrokeConstructor=e.style.Stroke,this.OlStyleTextConstructor=e.style.Text,this.OlStyleCircleConstructor=e.style.Circle,this.OlStyleIconConstructor=e.style.Icon,this.OlStyleRegularshapeConstructor=e.style.RegularShape)}getPointSymbolizerFromOlStyle(e){let t;if(e.getImage()instanceof this.OlStyleCircleConstructor){const i=e.getImage(),n=i.getFill(),s=i.getStroke(),a=i.getDisplacement();t={kind:"Mark",wellKnownName:"circle",color:n?d.getHexColor(n.getColor()):void 0,opacity:i.getOpacity()!==1?i.getOpacity():void 0,fillOpacity:n?d.getOpacity(n.getColor()):void 0,radius:i.getRadius()!==0?i.getRadius():5,strokeColor:s?s.getColor():void 0,strokeOpacity:s?d.getOpacity(s.getColor()):void 0,strokeWidth:s?s.getWidth():void 0,offset:a[0]||a[1]?a:void 0}}else if(e.getImage()instanceof this.OlStyleRegularshapeConstructor){const i=e.getImage(),n=i.getFill(),s=i.getStroke(),a=i.getRadius(),o=i.getRadius2(),l=i.getPoints(),c=i.getAngle(),u=i.getDisplacement(),g={kind:"Mark",color:n?d.getHexColor(n.getColor()):void 0,opacity:i.getOpacity()!==1?i.getOpacity():void 0,fillOpacity:n?d.getOpacity(n.getColor()):void 0,strokeColor:s?s.getColor():void 0,strokeOpacity:s?d.getOpacity(s.getColor()):void 0,strokeWidth:s?s.getWidth():void 0,radius:a!==0?a:5,rotate:i.getRotation()/Math.PI*180,offset:u[0]||u[1]?u:void 0};switch(l){case 2:switch(c){case 0:g.wellKnownName="shape://vertline";break;case Math.PI/2:g.wellKnownName="shape://horline";break;case Math.PI/4:g.wellKnownName="shape://slash";break;case 2*Math.PI-Math.PI/4:g.wellKnownName="shape://backslash";break}break;case 3:switch(c){case 0:g.wellKnownName="triangle";break;case Math.PI/2:g.wellKnownName="shape://carrow";break}break;case 4:Number.isFinite(o)?i.getAngle()===0?g.wellKnownName="cross":g.wellKnownName="x":g.wellKnownName="square";break;case 5:g.wellKnownName="star";break;default:throw new Error("Could not parse OlStyle. Only 2, 3, 4 or 5 point regular shapes are allowed")}t=g}else if(e.getText()instanceof this.OlStyleTextConstructor){const i=e.getText(),n=i.getFill(),s=i.getStroke(),a=i.getRotation();let o=i.getText()||"a";const l=i.getFont()||"10px sans-serif",c=d.getFontNameFromOlFont(l),u=d.getSizeFromOlFont(l),g=[i.getOffsetX(),i.getOffsetY()];Array.isArray(o)&&(o=o[0]),t={kind:"Mark",wellKnownName:`ttf://${c}#0x${o.charCodeAt(0).toString(16)}`,color:n?d.getHexColor(n.getColor()):void 0,opacity:n?d.getOpacity(n.getColor()):void 0,strokeColor:s?s.getColor():void 0,strokeOpacity:s?d.getOpacity(s.getColor()):void 0,strokeWidth:s?s.getWidth():void 0,radius:u!==0?u:5,rotate:a?a/Math.PI*180:0,offset:g[0]||g[1]?g:void 0}}else{const i=e.getImage(),n=i.getDisplacement(),s=this.getImageFromIconStyle(i);let a=i.getWidth();const o=i.getRotation()/Math.PI*180,l=i.getOpacity();t={kind:"Icon",image:s,opacity:l<1?l:void 0,size:a,rotate:o!==0?o:void 0,offset:n[0]||n[1]?n:void 0}}return t}getImageFromIconStyle(e){const t=e.getSize();if(Array.isArray(t)){let i=e.offset_;const n=e.offsetOrigin_;if(n&&n!=="top-left")throw new Error(`Offset origin ${n} not supported`);return{source:e.getSrc(),position:i,size:t}}else return e.getSrc()?e.getSrc():void 0}getLineSymbolizerFromOlStyle(e){const t=e.getStroke(),i=t?t.getLineDash():void 0;return{kind:"Line",color:t?d.getHexColor(t.getColor()):void 0,opacity:t?d.getOpacity(t.getColor()):void 0,width:t?t.getWidth():void 0,cap:t?t.getLineCap():"butt",join:t?t.getLineJoin():"miter",dasharray:i||void 0,dashOffset:t?t.getLineDashOffset():void 0}}getFillSymbolizerFromOlStyle(e){const t=e.getFill(),i=e.getStroke(),n=i?i.getLineDash():void 0,s={kind:"Fill"};return t&&(s.color=d.getHexColor(t.getColor())),t&&(s.fillOpacity=d.getOpacity(t.getColor())),i&&(s.outlineColor=d.getHexColor(i.getColor())),n&&(s.outlineDasharray=n),i&&(s.outlineOpacity=d.getOpacity(i.getColor())),i&&i.getWidth()&&(s.outlineWidth=i.getWidth()),s}getTextSymbolizerFromOlStyle(e){const t=e.getText();if(!t)throw new Error("Could not get text from olStyle.");const i=t.getFill(),n=t.getStroke(),s=t.getOffsetX(),a=t.getOffsetY(),o=t.getFont(),l=t.getRotation(),c=t.getOverflow()?t.getOverflow():void 0,u=t.getPlacement(),g=t.getText(),h=Array.isArray(g)?g[0]:g;let f=1/0,I,m,_;if(o){const M=It(o);if(M["font-weight"]&&(m=M["font-weight"]),M["font-size"]&&(f=parseInt(M["font-size"],10)),M["font-family"]){const w=M["font-family"];I=w==null?void 0:w.map(v=>v.includes(" ")?'"'+v+'"':v)}M["font-style"]&&(_=M["font-style"])}return{kind:"Text",label:h,placement:u,allowOverlap:c,color:i?d.getHexColor(i.getColor()):void 0,size:isFinite(f)?f:void 0,font:I,fontWeight:m||void 0,fontStyle:_||void 0,offset:s!==void 0&&a!==void 0?[s,a]:[0,0],haloColor:n&&n.getColor()?d.getHexColor(n.getColor()):void 0,haloWidth:n?n.getWidth():void 0,rotate:l!==void 0?l/Math.PI*180:void 0}}getSymbolizersFromOlStyle(e){const t=[];return e.forEach(i=>{let n;switch(this.getStyleTypeFromOlStyle(i)){case"Point":i.getText()&&!d.getIsMarkSymbolizerFont(i.getText().getFont())?n=this.getTextSymbolizerFromOlStyle(i):n=this.getPointSymbolizerFromOlStyle(i);break;case"Line":n=this.getLineSymbolizerFromOlStyle(i);break;case"Fill":n=this.getFillSymbolizerFromOlStyle(i);break;default:throw new Error("Failed to parse SymbolizerKind from OpenLayers Style")}t.push(n)}),t}getRuleFromOlStyle(e){let t;const i="OL Style Rule 0";return Array.isArray(e)?t=this.getSymbolizersFromOlStyle(e):t=this.getSymbolizersFromOlStyle([e]),{name:i,symbolizers:t}}getStyleTypeFromOlStyle(e){let t;if(e.getImage()instanceof this.OlStyleImageConstructor)t="Point";else if(e.getText()instanceof this.OlStyleTextConstructor)t="Point";else if(e.getFill()instanceof this.OlStyleFillConstructor)t="Fill";else if(e.getStroke()&&!e.getFill())t="Line";else throw new Error("StyleType could not be detected");return t}olStyleToGeoStylerStyle(e){const t="OL Style",i=this.getRuleFromOlStyle(e);return{name:t,rules:[i]}}readStyle(e){return new Promise(t=>{try{if(this.isOlParserStyleFct(e))t({output:e.__geoStylerStyle});else{e=e;const i=this.olStyleToGeoStylerStyle(e),n=this.checkForUnsupportedProperties(i);t({output:i,unsupportedProperties:n})}}catch(i){t({errors:[i]})}})}writeStyle(e){return new Promise(t=>{const i=structuredClone(e),n=this.checkForUnsupportedProperties(i);try{const s=this.getOlStyleTypeFromGeoStylerStyle(i);t({output:s,unsupportedProperties:n,warnings:n&&["Your style contains unsupportedProperties!"]})}catch(s){t({errors:[s]})}})}checkForUnsupportedProperties(e){const t=n=>n[0].toUpperCase()+n.slice(1),i={};if(e.rules.forEach(n=>{n.symbolizers.forEach(s=>{var l,c;const a=t(`${s.kind}Symbolizer`),o=(c=(l=this.unsupportedProperties)==null?void 0:l.Symbolizer)==null?void 0:c[a];o&&(typeof o=="string"?(i.Symbolizer||(i.Symbolizer={}),i.Symbolizer[a]=o):Object.keys(s).forEach(u=>{o[u]&&(i.Symbolizer||(i.Symbolizer={}),i.Symbolizer[a]||(i.Symbolizer[a]={}),i.Symbolizer[a][u]=o[u])}))})}),Object.keys(i).length>0)return i}getOlStyleTypeFromGeoStylerStyle(e){var n,s,a,o,l,c,u,g;const t=e.rules;if(t.length===1){const h=((s=(n=e==null?void 0:e.rules)==null?void 0:n[0])==null?void 0:s.filter)!==void 0,f=((l=(o=(a=e==null?void 0:e.rules)==null?void 0:a[0])==null?void 0:o.scaleDenominator)==null?void 0:l.min)!==void 0,I=((g=(u=(c=e==null?void 0:e.rules)==null?void 0:c[0])==null?void 0:u.scaleDenominator)==null?void 0:g.max)!==void 0,m=!!(f||I),_=d.containsGeoStylerFunctions(e),M=e.rules[0].symbolizers.length,w=t[0].symbolizers.some(A=>A.kind==="Text"),v=t[0].symbolizers.some(A=>A.kind==="Icon"&&typeof A.image=="string"&&A.image.includes("{{"));return!h&&!m&&!w&&!v&&!_?M===1?this.geoStylerStyleToOlStyle(e):this.geoStylerStyleToOlStyleArray(e):this.geoStylerStyleToOlParserStyleFct(e)}else return this.geoStylerStyleToOlParserStyleFct(e)}geoStylerStyleToOlStyle(e){const i=e.rules[0].symbolizers[0];return this.getOlSymbolizerFromSymbolizer(i)}geoStylerStyleToOlStyleArray(e){const t=e.rules[0],i=[];return t.symbolizers.forEach(n=>{const s=this.getOlSymbolizerFromSymbolizer(n);i.push(s)}),i}geoStylerStyleToOlParserStyleFct(e){const t=structuredClone(e.rules),n=(s,a)=>{const o=[],l=90.7142857142857,c=Ge.m,u=39.37,g=a*c*u*l;return t.forEach(h=>{var M,w;let f=(M=h==null?void 0:h.scaleDenominator)==null?void 0:M.min,I=(w=h==null?void 0:h.scaleDenominator)==null?void 0:w.max,m=!0;(f||I)&&(f=y(f)?d.evaluateNumberFunction(f):f,I=y(I)?d.evaluateNumberFunction(I):I,f&&g<f&&(m=!1),I&&g>=I&&(m=!1));let _=!1;if(!h.filter)_=!0;else try{_=this.geoStylerFilterToOlParserFilter(s,h.filter)}catch{_=!1}m&&_&&h.symbolizers.forEach(v=>{v.visibility===!1&&o.push(null),B(v.visibility)&&(d.evaluateBooleanFunction(v.visibility)||o.push(null));const A=this.getOlSymbolizerFromSymbolizer(v,s);if(typeof A!="function")o.push(A);else{const k=A(s,a);o.push(k)}})}),o};return n.__geoStylerStyle=e,n}geoStylerFilterToOlParserFilter(e,t){const i={"&&":!0,"||":!0,"!":!0};let n=!0;if(B(t))return d.evaluateBooleanFunction(t,e);if(t===!0||t===!1)return t;const s=t[0];let a=!1;i[s]&&(a=!0);try{if(a){let o,l;switch(t[0]){case"&&":o=!0,l=t.slice(1),l.forEach(c=>{this.geoStylerFilterToOlParserFilter(e,c)||(o=!1)}),n=o;break;case"||":o=!1,l=t.slice(1),l.forEach(c=>{this.geoStylerFilterToOlParserFilter(e,c)&&(o=!0)}),n=o;break;case"!":n=!this.geoStylerFilterToOlParserFilter(e,t[1]);break;default:throw new Error("Cannot parse Filter. Unknown combination or negation operator.")}}else{let o;y(t[1])?o=d.evaluateFunction(t[1],e):o=e.get(t[1]);let l;switch(y(t[2])?l=d.evaluateFunction(t[2],e):l=t[2],t[0]){case"==":n=""+o==""+l;break;case"*=":typeof l=="string"&&typeof o=="string"&&(l.length>o.length?n=!1:n=o.indexOf(l)!==-1);break;case"!=":n=""+o!=""+l;break;case"<":n=Number(o)<Number(l);break;case"<=":n=Number(o)<=Number(l);break;case">":n=Number(o)>Number(l);break;case">=":n=Number(o)>=Number(l);break;default:throw new Error("Cannot parse Filter. Unknown comparison operator.")}}}catch{throw new Error("Cannot parse Filter. Invalid structure.")}return n}getOlSymbolizerFromSymbolizer(e,t){let i;switch(e=structuredClone(e),e.kind){case"Mark":i=this.getOlPointSymbolizerFromMarkSymbolizer(e,t);break;case"Icon":i=this.getOlIconSymbolizerFromIconSymbolizer(e,t);break;case"Text":i=this.getOlTextSymbolizerFromTextSymbolizer(e,t);break;case"Line":i=this.getOlLineSymbolizerFromLineSymbolizer(e,t);break;case"Fill":i=this.getOlPolygonSymbolizerFromFillSymbolizer(e,t);break;default:const n=new this.OlStyleFillConstructor({color:"rgba(255,255,255,0.4)"}),s=new this.OlStyleStrokeConstructor({color:"#3399CC",width:1.25});i=new this.OlStyleConstructor({image:new this.OlStyleCircleConstructor({fill:n,stroke:s,radius:5}),fill:n,stroke:s});break}return i}getOlPointSymbolizerFromMarkSymbolizer(e,t){let i;for(const w of Object.keys(e))y(e[w])&&(e[w]=d.evaluateFunction(e[w],t));const n=e.strokeColor,s=e.strokeOpacity,a=e.strokeWidth===void 0?1:e.strokeWidth,o=n&&s!==void 0?d.getRgbaColor(n,s):e.strokeColor;(e.strokeColor||e.strokeWidth!==void 0)&&(i=new this.OlStyleStrokeConstructor({color:o,width:e.strokeWidth}));const l=e.color,c=e.opacity,u=e.radius,g=((e==null?void 0:e.radius)??8)*2,h=e.fillOpacity,f=l&&h!==void 0?d.getRgbaColor(l,h??1):l,I=new this.OlStyleFillConstructor({color:f});let m;const _={fill:I,radius:u??5,rotation:typeof e.rotate=="number"?e.rotate*Math.PI/180:void 0,stroke:i,displacement:Array.isArray(e.offset)?e.offset.map(Number):void 0};let M=e.wellKnownName;switch(M=M==="shape://dot"?"circle":M,M=M==="shape://plus"?"cross":M,M){case"arrow":case"arrowhead":case"asterisk_fill":case"circle":case"cross":case"cross2":case"cross_fill":case"decagon":case"diagonal_half_square":case"diamond":case"equilateral_triangle":case"filled_arrowhead":case"half_arc":case"half_square":case"heart":case"hexagon":case"left_half_triangle":case"line":case"octagon":case"parallelogram_left":case"parallelogram_right":case"pentagon":case"quarter_arc":case"quarter_circle":case"quarter_square":case"right_half_triangle":case"rounded_square":case"semi_circle":case"shield":case"square":case"square_with_corners":case"star":case"star_diamond":case"third_arc":case"third_circle":case"trapezoid":case"triangle":b(Object.assign({"./svg/arrow.svg":()=>Promise.resolve().then(function(){return Xi}),"./svg/arrowhead.svg":()=>Promise.resolve().then(function(){return Ji}),"./svg/asterisk_fill.svg":()=>Promise.resolve().then(function(){return Ui}),"./svg/circle.svg":()=>Promise.resolve().then(function(){return Vi}),"./svg/cross.svg":()=>Promise.resolve().then(function(){return Ki}),"./svg/cross2.svg":()=>Promise.resolve().then(function(){return tn}),"./svg/cross_fill.svg":()=>Promise.resolve().then(function(){return rn}),"./svg/decagon.svg":()=>Promise.resolve().then(function(){return an}),"./svg/diagonal_half_square.svg":()=>Promise.resolve().then(function(){return ln}),"./svg/diamond.svg":()=>Promise.resolve().then(function(){return hn}),"./svg/equilateral_triangle.svg":()=>Promise.resolve().then(function(){return un}),"./svg/filled_arrowhead.svg":()=>Promise.resolve().then(function(){return fn}),"./svg/half_arc.svg":()=>Promise.resolve().then(function(){return In}),"./svg/half_square.svg":()=>Promise.resolve().then(function(){return Mn}),"./svg/heart.svg":()=>Promise.resolve().then(function(){return Cn}),"./svg/hexagon.svg":()=>Promise.resolve().then(function(){return vn}),"./svg/left_half_triangle.svg":()=>Promise.resolve().then(function(){return Sn}),"./svg/line.svg":()=>Promise.resolve().then(function(){return An}),"./svg/octagon.svg":()=>Promise.resolve().then(function(){return bn}),"./svg/parallelogram_left.svg":()=>Promise.resolve().then(function(){return Tn}),"./svg/parallelogram_right.svg":()=>Promise.resolve().then(function(){return kn}),"./svg/pentagon.svg":()=>Promise.resolve().then(function(){return zn}),"./svg/quarter_arc.svg":()=>Promise.resolve().then(function(){return Rn}),"./svg/quarter_circle.svg":()=>Promise.resolve().then(function(){return Fn}),"./svg/quarter_square.svg":()=>Promise.resolve().then(function(){return jn}),"./svg/right_half_triangle.svg":()=>Promise.resolve().then(function(){return Gn}),"./svg/rounded_square.svg":()=>Promise.resolve().then(function(){return Bn}),"./svg/semi_circle.svg":()=>Promise.resolve().then(function(){return Qn}),"./svg/shield.svg":()=>Promise.resolve().then(function(){return Yn}),"./svg/square.svg":()=>Promise.resolve().then(function(){return qn}),"./svg/square_with_corners.svg":()=>Promise.resolve().then(function(){return $n}),"./svg/star.svg":()=>Promise.resolve().then(function(){return er}),"./svg/star_diamond.svg":()=>Promise.resolve().then(function(){return ir}),"./svg/third_arc.svg":()=>Promise.resolve().then(function(){return rr}),"./svg/third_circle.svg":()=>Promise.resolve().then(function(){return ar}),"./svg/trapezoid.svg":()=>Promise.resolve().then(function(){return lr}),"./svg/triangle.svg":()=>Promise.resolve().then(function(){return hr})}),`./svg/${M}.svg`).then(w=>{const k=new DOMParser().parseFromString(w.default,"image/svg+xml").documentElement,O=(ur,dr,fr)=>{k.querySelectorAll(ur).forEach(mr=>mr.setAttribute(dr,fr))};O("[fill]","fill",String(f)),O("[stroke]","stroke",String(o)),O("[stroke-width]","stroke-width",String(a)),O("[width]","width",String(g)),O("[height]","height",String(g));const gr=new XMLSerializer().serializeToString(k);m=new this.OlStyleConstructor({image:new this.OlStyleIconConstructor({src:`data:image/svg+xml;base64,${btoa(gr)}`,scale:1})})}).catch(()=>{throw new Error(`No SVG for WellKnownName (${M}.)`)});break;case"shape://times":case"x":_.stroke===void 0&&(_.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),m=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor({..._,points:4,radius2:0,angle:45*Math.PI/180})});break;case"shape://backslash":_.stroke===void 0&&(_.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),m=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor({..._,points:2,angle:2*Math.PI-Math.PI/4})});break;case"shape://horline":_.stroke===void 0&&(_.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),m=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor({..._,points:2,angle:Math.PI/2})});break;case"shape://oarrow":case"shape://carrow":m=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor({..._,points:3,angle:Math.PI/2})});break;case"shape://slash":_.stroke===void 0&&(_.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),m=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor({..._,points:2,angle:Math.PI/4})});break;case"shape://vertline":_.stroke===void 0&&(_.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),m=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor({..._,points:2,angle:0})});break;default:if(d.getIsFontGlyphBased(e)){m=new this.OlStyleConstructor({text:new this.OlStyleTextConstructor({text:d.getCharacterForMarkSymbolizer(e),font:d.getTextFontForMarkSymbolizer(e),fill:_.fill,stroke:_.stroke,rotation:_.rotation})});break}throw new Error("MarkSymbolizer cannot be parsed. Unsupported WellKnownName.")}return Number.isFinite(c)&&m.getImage()&&m.getImage().setOpacity(c),m}getOlIconSymbolizerFromIconSymbolizer(e,t){for(const l of Object.keys(e))y(e[l])&&(e[l]=d.evaluateFunction(e[l],t));const i={src:ne(e.image)?e.image.source:e.image,crossOrigin:"anonymous",opacity:e.opacity,width:e.size,rotation:typeof e.rotate=="number"?e.rotate*Math.PI/180:void 0,displacement:e.offset,size:ne(e.image)?e.image.size:void 0,offset:ne(e.image)?e.image.position:void 0},n="\\{\\{",s="\\}\\}",a=new RegExp(n+".*?"+s,"g");return(typeof e.image=="string"?e.image.match(a):null)?c=>{let u=d.resolveAttributeTemplate(c,e.image,"");u||(u=e.image+"");let g;return this.olIconStyleCache[u]?(g=this.olIconStyleCache[u],i.rotation!==void 0&&g.setRotation(i.rotation),i.opacity!==void 0&&g.setOpacity(i.opacity)):(g=new this.OlStyleIconConstructor({...i,src:u}),this.olIconStyleCache[u]=g),new this.OlStyleConstructor({image:g})}:new this.OlStyleConstructor({image:new this.OlStyleIconConstructor({...i})})}getOlLineSymbolizerFromLineSymbolizer(e,t){for(const a of Object.keys(e))y(e[a])&&(e[a]=d.evaluateFunction(e[a],t));const i=e.color,n=e.opacity,s=i&&n!==null&&n!==void 0?d.getRgbaColor(i,n):i;return new this.OlStyleConstructor({stroke:new this.OlStyleStrokeConstructor({color:s,width:e.width,lineCap:e.cap,lineJoin:e.join,lineDash:e.dasharray,lineDashOffset:e.dashOffset})})}getOlPolygonSymbolizerFromFillSymbolizer(e,t){for(const h of Object.keys(e))y(e[h])&&(e[h]=d.evaluateFunction(e[h],t));const i=e.color,n=e.fillOpacity,s=i&&Number.isFinite(n)?d.getRgbaColor(i,n):i;let a=i?new this.OlStyleFillConstructor({color:s}):void 0;const o=e.outlineColor,l=e.outlineOpacity,c=o&&Number.isFinite(l)?d.getRgbaColor(o,l):o,u=o||e.outlineWidth?new this.OlStyleStrokeConstructor({color:c,width:e.outlineWidth,lineDash:e.outlineDasharray}):void 0,g=new this.OlStyleConstructor({fill:a,stroke:u});if(e.graphicFill){const h=this.getOlPatternFromGraphicFill(e.graphicFill);a||(a=new this.OlStyleFillConstructor({})),h&&a.setColor(h),g.setFill(a)}return g}getOlPatternFromGraphicFill(e){let t;if(Mt(e)){t=this.getOlIconSymbolizerFromIconSymbolizer(e);const h=t==null?void 0:t.getImage();if(h==null||h.load(),(h==null?void 0:h.getImageState())!==p.LOADED)return null}else if(wt(e))t=this.getOlPointSymbolizerFromMarkSymbolizer(e);else return null;const i=t.clone(),n=i.getImage(),s=document.createElement("canvas"),a=s.getContext("2d"),l=n.getScale()||1;n.setScale(1);const c=n.getSize(),u=Wi(a,{pixelRatio:l,size:c});u.setStyle(i);const g=c.map(h=>h/2);return u.drawGeometry(new Ci(g)),a.createPattern(s,"repeat")}getOlTextSymbolizerFromTextSymbolizer(e,t){for(const m of Object.keys(e))y(e[m])&&(e[m]=d.evaluateFunction(e[m],t));const i=e.color;let n=e.placement;n||(n="point"),n==="line-center"&&(n="line");const s=e.opacity,a=i&&Number.isFinite(s)?d.getRgbaColor(i,s):i,o=e.haloColor,l=e.haloWidth,c=o&&Number.isFinite(s)?d.getRgbaColor(o,s):o,u={font:d.getTextFont(e),fill:new this.OlStyleFillConstructor({color:a}),stroke:new this.OlStyleStrokeConstructor({color:c,width:l||0}),overflow:e.allowOverlap,offsetX:e.offset?e.offset[0]:0,offsetY:e.offset?e.offset[1]:0,rotation:typeof e.rotate=="number"?e.rotate*Math.PI/180:void 0,placement:n},g="\\{\\{",h="\\}\\}",f=new RegExp(g+".*?"+h,"g");let I;return F(e.label)||(I=e.label?e.label.match(f):null),I?_=>{const M=new this.OlStyleTextConstructor({text:d.resolveAttributeTemplate(_,e.label,""),...u});return new this.OlStyleConstructor({text:M})}:new this.OlStyleConstructor({text:new this.OlStyleTextConstructor({text:e.label,...u})})}}x(xe,"title","OpenLayers Style Parser");var Bi="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJhcnJvdyIgZD0iTSAwLC0xMCBMIDUsLTUgTCAyLjUsLTUgTCAyLjUsMTAgTCAtMi41LDEwIEwgLTIuNSwtNSBMIC01LC01IEwgMCwtMTAgWiIgIHN0eWxlPSJmaWxsOiAjMDBmZjAwOyBzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMTsiIC8+DQo8L3N2Zz4NCg==",Xi=Object.freeze({__proto__:null,default:Bi}),Qi="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJhcnJvd2hlYWQiIGQ9Ik0gLTEwIC0xMCBMIDAgMCBMIC0xMCAxMCIgIHN0eWxlPSJmaWxsOiBub25lOyBzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMTsiIC8+DQo8L3N2Zz4=",Ji=Object.freeze({__proto__:null,default:Qi}),Yi="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJhc3Rlcmlza19maWxsIiBkPSJNIC0xLjUsLTEwIEwgMS41LC0xMEwgMS41LC0zLjkzOSBMIDYuMDExLC04LjEzMiBMIDguMTMyLC02LjAxMSBMIDMuOTM5LC0xLjUgTCAxMCwtMS41IEwgMTAsMS41IEwgMy45MzksMS41IEwgOC4xMzIsNi4wMTEgTCA2LjAxMSw4LjEzMiBMIDEuNSwzLjkzOSBMIDEuNSwxMCBMIC0xLjUsMTAgTCAtMS41LDMuOTM5IEwgLTYuMDExLDguMTMyIEwgLTguMTMyLDYuMDExIEwgLTMuOTM5LDEuNSBMIC0xMCwxLjUgTCAtMTAsLTEuNSBMIC0zLjkzOSwtMS41IEwgLTguMTMyLC02LjAxMSBMIC02LjAxMSwtOC4xMzIgTCAtMS41LC0zLjkzOSBMIC0xLjUsLTEwIFoiICBzdHlsZT0iZmlsbDogIzAwZmYwMDsgc3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDE7IiAvPg0KPC9zdmc+DQo=",Ui=Object.freeze({__proto__:null,default:Yi}),qi="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxjaXJjbGUgaWQ9ImNpcmNsZSIgY3g9IjAiIGN5PSIwIiByPSIxMCIgc3R5bGU9ImZpbGw6ICMwMGZmMDA7IHN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxOyIgLz4NCjwvc3ZnPg0K",Vi=Object.freeze({__proto__:null,default:qi}),$i="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJjcm9zcyIgZD0iTSAtMTAgMCBMIDEwIDAgTSAwIC0xMCBMIDAgMTAiICBzdHlsZT0iZmlsbDogbm9uZTsgc3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDE7IiAvPg0KPC9zdmc+DQo=",Ki=Object.freeze({__proto__:null,default:$i}),en="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJjcm9zczIiIGQ9Ik0gLTEwIC0xMCBMIDEwIDEwIE0gMTAgLTEwIEwgLTEwIDEwIiAgc3R5bGU9ImZpbGw6IG5vbmU7IHN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxOyIgLz4NCjwvc3ZnPg0K",tn=Object.freeze({__proto__:null,default:en}),nn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJjcm9zc19maWxsIiBkPSJNIC0xMCwtMiBMIC0xMCwtMiBMIC0xMCwyIEwgLTIsMiBMIC0yLDEwIEwgMiwxMCBMIDIsMiBMIDEwLDIgTCAxMCwtMiBMIDIsLTIgTCAyLC0xMCBMIC0yLC0xMCBMIC0yLC0yIEwgLTEwLC0yIFoiICBzdHlsZT0iZmlsbDogIzAwZmYwMDsgc3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDE7IiAvPg0KPC9zdmc+DQo=",rn=Object.freeze({__proto__:null,default:nn}),sn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJkZWNhZ29uIiBwb2ludHM9IjUuODc4LDguMDkgOS41MTEsMy4wOSA5LjUxMSwtMy4wOSA1Ljg3OCwtOC4wOSAwLC0xMCAtNS44NzgsLTguMDkgLTkuNTExLC0zLjA5IC05LjUxMSwzLjA5IC01Ljg3OCw4LjA5IDAsMTAgNS44NzgsOC4wOSIgc3R5bGU9ImZpbGw6ICMwMGZmMDA7IHN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxOyIgLz4NCjwvc3ZnPg0K",an=Object.freeze({__proto__:null,default:sn}),on="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJkaWFnb25hbF9oYWxmX3NxdWFyZSIgcG9pbnRzPSItMTAsLTEwIDEwLDEwIC0xMCwxMCAtMTAsLTEwIiBzdHlsZT0iZmlsbDogIzAwZmYwMDsgc3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDE7IiAvPg0KPC9zdmc+DQo=",ln=Object.freeze({__proto__:null,default:on}),cn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJkaWFtb25kIiBwb2ludHM9Ii0xMCwwIDAsMTAgMTAsMCAwLC0xMCAtMTAsMCIgc3R5bGU9ImZpbGw6ICMwMGZmMDA7IHN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxOyIgLz4NCjwvc3ZnPg0K",hn=Object.freeze({__proto__:null,default:cn}),gn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJlcXVpbGF0ZXJhbF90cmlhbmdsZSIgcG9pbnRzPSItOC42Niw1IDguNjYsNSAwLC0xMCAtOC42Niw1IiBzdHlsZT0iZmlsbDogIzAwZmYwMDsgc3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDE7IiAvPg0KPC9zdmc+DQo=",un=Object.freeze({__proto__:null,default:gn}),dn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJmaWxsZWRfYXJyb3doZWFkIiBkPSJNIDAsMCBMIC0xMCwxMCBMIC0xMCwtMTAgTCAwLDAgWiIgIHN0eWxlPSJmaWxsOiAjMDBmZjAwOyBzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMTsiIC8+DQo8L3N2Zz4NCg==",fn=Object.freeze({__proto__:null,default:dn}),mn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJoYWxmX2FyYyIgZD0iTSAtMTAgMCBBIC0xMCAtMTAgMCAwIDEgMTAgMCIgIHN0eWxlPSJmaWxsOiBub25lOyBzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMTsiIC8+DQo8L3N2Zz4NCg==",In=Object.freeze({__proto__:null,default:mn}),_n="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJoYWxmX3NxdWFyZSIgcG9pbnRzPSItMTAsLTEwIDAsLTEwIDAsMTAgLTEwLDEwIC0xMCwtMTAiIHN0eWxlPSJmaWxsOiAjMDBmZjAwOyBzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMTsiIC8+DQo8L3N2Zz4NCg==",Mn=Object.freeze({__proto__:null,default:_n}),wn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJoZWFydCIgZD0iTSAtOS41IC0yIEEgMSAxIDAgMCAxIDAgLTcuNSBBIDEgMSAwIDAgMSA5LjUgLTIgTCAwIDEwIFoiICBzdHlsZT0iZmlsbDogIzAwZmYwMDsgc3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDE7IiAvPg0KPC9zdmc+",Cn=Object.freeze({__proto__:null,default:wn}),yn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJoZXhhZ29uIiBwb2ludHM9Ii04LjY2LC01IC04LjY2LDUgMCwxMCA4LjY2LDUgOC42NiwtNSAwLC0xMCAtOC42NiwtNSIgc3R5bGU9ImZpbGw6ICMwMGZmMDA7IHN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxOyIgLz4NCjwvc3ZnPg0K",vn=Object.freeze({__proto__:null,default:yn}),pn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJsZWZ0X2hhbGZfdHJpYW5nbGUiIHBvaW50cz0iMCwxMCAxMCwxMCAwLC0xMCAwLDEwIiBzdHlsZT0iZmlsbDogIzAwZmYwMDsgc3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDE7IiAvPg0KPC9zdmc+DQo=",Sn=Object.freeze({__proto__:null,default:pn}),xn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJsaW5lIiBkPSJNIDAgLTEwIEwgMCAxMCIgIHN0eWxlPSJmaWxsOiBub25lOyBzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMTsiIC8+DQo8L3N2Zz4=",An=Object.freeze({__proto__:null,default:xn}),Dn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJvY3RhZ29uIiBwb2ludHM9Ii00LjE0MiwxMCA0LjE0MiwxMCAxMCw0LjE0MiAxMCwtNC4xNDIgNC4xNDIsLTEwIC00LjE0MiwtMTAgLTEwLC00LjE0MiAtMTAsNC4xNDIgLTQuMTQyLDEwIiBzdHlsZT0iZmlsbDogIzAwZmYwMDsgc3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDE7IiAvPg0KPC9zdmc+DQo=",bn=Object.freeze({__proto__:null,default:Dn}),On="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJwYXJhbGxlbG9ncmFtX2xlZnQiIHBvaW50cz0iMTAsNSA1LC01IC0xMCwtNSAtNSw1IDEwLDUiIHN0eWxlPSJmaWxsOiAjMDBmZjAwOyBzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMTsiIC8+DQo8L3N2Zz4NCg==",Tn=Object.freeze({__proto__:null,default:On}),Pn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJwYXJhbGxlbG9ncmFtX3JpZ2h0IiBwb2ludHM9IjUsNSAxMCwtNSAtNSwtNSAtMTAsNSA1LDUiIHN0eWxlPSJmaWxsOiAjMDBmZjAwOyBzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMTsiIC8+DQo8L3N2Zz4NCg==",kn=Object.freeze({__proto__:null,default:Pn}),Ln="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJwZW50YWdvbiIgcG9pbnRzPSItOS41MTEsLTMuMDkgLTUuODc4LDguMDkgNS44NzgsOC4wOSA5LjUxMSwtMy4wOSAwLC0xMCAtOS41MTEsLTMuMDkiIHN0eWxlPSJmaWxsOiAjMDBmZjAwOyBzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMTsiIC8+DQo8L3N2Zz4NCg==",zn=Object.freeze({__proto__:null,default:Ln}),Zn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJxdWFydGVyX2FyYyIgZD0iTSAwIC0xMCBBIDEwIDEwIDAgMCAwIC0xMCAwIiAgc3R5bGU9ImZpbGw6IG5vbmU7IHN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxOyIgLz4NCjwvc3ZnPg0K",Rn=Object.freeze({__proto__:null,default:Zn}),En="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJxdWFydGVyX2NpcmNsZSIgZD0iTSAwIC0xMCBBIDEwIDEwIDAgMCAwIC0xMCAwIEwgMCAwIFoiICBzdHlsZT0iZmlsbDogIzAwZmYwMDsgc3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDE7IiAvPg0KPC9zdmc+DQo=",Fn=Object.freeze({__proto__:null,default:En}),Hn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJxdWFydGVyX3NxdWFyZSIgcG9pbnRzPSItMTAsLTEwIDAsLTEwIDAsMCAtMTAsMCAtMTAsLTEwIiBzdHlsZT0iZmlsbDogIzAwZmYwMDsgc3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDE7IiAvPg0KPC9zdmc+DQo=",jn=Object.freeze({__proto__:null,default:Hn}),Nn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJyaWdodF9oYWxmX3RyaWFuZ2xlIiBwb2ludHM9Ii0xMCwxMCAwLDEwIDAsLTEwIC0xMCwxMCIgc3R5bGU9ImZpbGw6ICMwMGZmMDA7IHN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxOyIgLz4NCjwvc3ZnPg0K",Gn=Object.freeze({__proto__:null,default:Nn}),Wn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxyZWN0IGlkPSJyb3VuZGVkX3NxdWFyZSIgeD0iLTEwIiB5PSItMTAiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9ImZpbGw6ICMwMGZmMDA7IHN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxOyIgLz4NCjwvc3ZnPg0K",Bn=Object.freeze({__proto__:null,default:Wn}),Xn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJzZW1pX2NpcmNsZSIgZD0iTSAtMTAgMCBBIC0xMCAtMTAgMCAwIDEgMTAgMCBMIDAgMCBaIiAgc3R5bGU9ImZpbGw6ICMwMGZmMDA7IHN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxOyIgLz4NCjwvc3ZnPg0K",Qn=Object.freeze({__proto__:null,default:Xn}),Jn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJzaGllbGQiIHBvaW50cz0iMTAsNSAxMCwtMTAgLTEwLC0xMCAtMTAsNSAwLDEwIDEwLDUiIHN0eWxlPSJmaWxsOiAjMDBmZjAwOyBzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMTsiIC8+DQo8L3N2Zz4NCg==",Yn=Object.freeze({__proto__:null,default:Jn}),Un="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJzcXVhcmUiIHBvaW50cz0iLTEwLC0xMCAxMCwtMTAgMTAsMTAgLTEwLDEwIiBzdHlsZT0iZmlsbDogIzAwZmYwMDsgc3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDE7IiAvPg0KPC9zdmc+DQo=",qn=Object.freeze({__proto__:null,default:Un}),Vn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJzcXVhcmVfd2l0aF9jb3JuZXJzIiBwb2ludHM9Ii02LjA3MiwxMCA2LjA3MiwxMCAxMCw2LjA3MiAxMCwtNi4wNzIgNi4wNzIsLTEwIC02LjA3MiwtMTAgLTEwLC02LjA3MiAtMTAsNi4wNzIgLTYuMDcyLDEwIiBzdHlsZT0iZmlsbDogIzAwZmYwMDsgc3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDE7IiAvPg0KPC9zdmc+DQo=",$n=Object.freeze({__proto__:null,default:Vn}),Kn="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJzdGFyIiBkPSJNIC0yLjI0NTE0LC0zLjA5MDE3IC05LjUxMDU3LC0zLjA5MDE3IC0zLjYzMjcxLDEuMTgwMzQgLTUuODc3ODUsOC4wOTAxNyAwLDMuODE5NjYgNS44Nzc4NSw4LjA5MDE3IDMuNjMyNzEsMS4xODAzNCA5LjUxMDU3LC0zLjA5MDE3IDIuMjQ1MTQsLTMuMDkwMTcgMCwtMTAgLTIuMjQ1MTQsLTMuMDkwMTcgWiIgIHN0eWxlPSJmaWxsOiAjMDBmZjAwOyBzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMTsiIC8+DQo8L3N2Zz4NCg==",er=Object.freeze({__proto__:null,default:Kn}),tr="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJzdGFyX2RpYW1vbmQiIGQ9Ik0gLTIuNzAwOTEsLTIuNzAwOTEgLTEwLDAgLTIuNzAwOTEsMi43MDA5MSAwLDEwIDIuNzAwOTEsMi43MDA5MSAxMCwwIDIuNzAwOTEsLTIuNzAwOTEgMCwtMTAgWiIgIHN0eWxlPSJmaWxsOiAjMDBmZjAwOyBzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMTsiIC8+DQo8L3N2Zz4NCg==",ir=Object.freeze({__proto__:null,default:tr}),nr="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJ0aGlyZF9hcmMiIGQ9Ik0gMCAtMTAgQSAxMCAxMCAwIDAgMCAtNSA4LjY2IiAgc3R5bGU9ImZpbGw6IG5vbmU7IHN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxOyIgLz4NCjwvc3ZnPg0K",rr=Object.freeze({__proto__:null,default:nr}),sr="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwYXRoIGlkPSJ0aGlyZF9jaXJjbGUiIGQ9Ik0gMCAtMTAgQSAxMCAxMCAwIDAgMCAtNSA4LjY2IEwgMCAwIFoiICBzdHlsZT0iZmlsbDogIzAwZmYwMDsgc3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDE7IiAvPg0KPC9zdmc+DQo=",ar=Object.freeze({__proto__:null,default:sr}),or="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJ0cmFwZXpvaWQiIHBvaW50cz0iNSwtNSAxMCw1IC0xMCw1IC01LC01IDUsLTUiIHN0eWxlPSJmaWxsOiAjMDBmZjAwOyBzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMTsiIC8+DQo8L3N2Zz4NCg==",lr=Object.freeze({__proto__:null,default:or}),cr="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMiAtMTIgMjQgMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogIDxwb2x5Z29uIGlkPSJ0cmlhbmdsZSIgcG9pbnRzPSItMTAsMTAgMTAsMTAgMCwtMTAgLTEwLDEwIiBzdHlsZT0iZmlsbDogIzAwZmYwMDsgc3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDE7IiAvPg0KPC9zdmc+DQo=",hr=Object.freeze({__proto__:null,default:cr});return D.OlStyleParser=xe,D.default=xe,Object.defineProperty(D,"__esModule",{value:!0}),D}({});
//# sourceMappingURL=olStyleParser.iife.js.map
